{"ast":null,"code":"import _regeneratorRuntime from \"/Users/simonurbanek/NoCloud/blockChain/orderApp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/simonurbanek/NoCloud/blockChain/orderApp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport Web3 from 'web3';\nimport low from 'lowdb';\nimport FileSync from \"lowdb\";\n\nfunction loadWeb3() {\n  return _loadWeb.apply(this, arguments);\n}\n\nfunction _loadWeb() {\n  _loadWeb = _asyncToGenerator(\n  /*#__PURE__*/\n  _regeneratorRuntime.mark(function _callee() {\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            if (!window.ethereum) {\n              _context.next = 6;\n              break;\n            }\n\n            window.web3 = new Web3(window.ethereum);\n            _context.next = 4;\n            return window.ethereum.enable();\n\n          case 4:\n            _context.next = 7;\n            break;\n\n          case 6:\n            if (window.web3) {\n              window.web3 = new Web3(window.web3.currentProvider);\n            } else {\n              window.alert('Non-Ethereum browser detected. You should consider trying MetaMask!');\n            }\n\n          case 7:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n  return _loadWeb.apply(this, arguments);\n}\n\nexport var storeAPI = {\n  storeAdress: \"0xbB2720c4f567a66C39F5Efd11e2af6870e3797af\",\n  getOrder: function getOrder() {\n    return {\n      \"id\": 2,\n      \"products\": [{\n        \"id\": \"9868709\",\n        \"name\": \"iPhone\",\n        \"description\": \"The iPhone has a sleek, minimalist design, and differs from other smartphones in its lack of buttons.\",\n        \"cost\": 2,\n        \"refundable\": true,\n        \"tax\": \"20\",\n        \"quantity\": 1,\n        \"returned\": false\n      }, {\n        \"id\": \"27362973\",\n        \"name\": \"Custom Belt\",\n        \"description\": \"Nice custom made belt.\",\n        \"cost\": 2,\n        \"refundable\": false,\n        \"tax\": \"20\",\n        \"quantity\": 1,\n        \"returned\": true\n      }],\n      \"cost\": 5,\n      \"delivererAddress\": \"0xe1A6462DACF4D7FDc0FE3013E9a7BE1A720d05E0\",\n      \"deliveryAddress\": \"Cierne, U Flora 02312, Slovensko\",\n      \"storeAdress\": this.storeAdress\n    };\n  },\n  saveProposalForOrderId: function saveProposalForOrderId(orderid, amount, reason) {\n    var adapter = new FileSync('db.json');\n    var db = low(adapter);\n    db.defaults({\n      proposals: [],\n      count: 0\n    }).write();\n    db.get('proposals').push({\n      orderId: orderid,\n      reason: reason,\n      amount: amount\n    }).write();\n  },\n  getProposal: function getProposal(orderId) {\n    var adapter = new FileSync('db.json');\n    var db = low(adapter);\n    db.defaults({\n      proposals: [],\n      count: 0\n    }).write();\n    return db.get('proposals').find({\n      orderId: orderId\n    }).value();\n  }\n};\nexport var person = {\n  firstName: \"John\",\n  lastName: \"Doe\",\n  id: 5566,\n  fullName: function fullName() {\n    return this.firstName + \" \" + this.lastName;\n  }\n};","map":{"version":3,"sources":["/Users/simonurbanek/NoCloud/blockChain/orderApp/src/StoreAPI.js"],"names":["Web3","low","FileSync","loadWeb3","window","ethereum","web3","enable","currentProvider","alert","storeAPI","storeAdress","getOrder","saveProposalForOrderId","orderid","amount","reason","adapter","db","defaults","proposals","count","write","get","push","orderId","getProposal","find","value","person","firstName","lastName","id","fullName"],"mappings":"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","sourcesContent":["import Web3 from 'web3';\nimport low from 'lowdb';\nimport FileSync from \"lowdb\";\n\nasync function loadWeb3() {\n    if (window.ethereum) {\n        window.web3 = new Web3(window.ethereum)\n        await window.ethereum.enable()\n    }\n    else if (window.web3) {\n        window.web3 = new Web3(window.web3.currentProvider)\n    }\n    else {\n        window.alert('Non-Ethereum browser detected. You should consider trying MetaMask!')\n    }\n}\n\n\nexport var storeAPI = {\n     storeAdress : \"0xbB2720c4f567a66C39F5Efd11e2af6870e3797af\",\n     getOrder: function(){\n        return {\n            \"id\": 2,\n            \"products\" : [\n                {\n                    \"id\": \"9868709\",\n                    \"name\":\"iPhone\",\n                    \"description\": \"The iPhone has a sleek, minimalist design, and differs from other smartphones in its lack of buttons.\",\n                    \"cost\": 2,\n                    \"refundable\": true,\n                    \"tax\": \"20\",\n                    \"quantity\": 1,\n                    \"returned\": false\n                },\n                { \"id\": \"27362973\",\n                    \"name\":\"Custom Belt\",\n                    \"description\": \"Nice custom made belt.\",\n                    \"cost\": 2,\n                    \"refundable\": false,\n                    \"tax\": \"20\",\n                    \"quantity\": 1,\n                    \"returned\": true\n                }\n            ],\n            \"cost\": 5,\n            \"delivererAddress\" : \"0xe1A6462DACF4D7FDc0FE3013E9a7BE1A720d05E0\",\n            \"deliveryAddress\" : \"Cierne, U Flora 02312, Slovensko\",\n            \"storeAdress\": this.storeAdress\n        }\n    },\n\n    saveProposalForOrderId( orderid, amount, reason ) {\n        const adapter = new FileSync('db.json')\n        const db = low(adapter)\n\n        db.defaults({ proposals: [], count: 0 }).write()\n\n        db.get('proposals')\n            .push({ orderId: orderid, reason: reason, amount: amount})\n            .write()\n    },\n\n    getProposal( orderId  ){\n        const adapter = new FileSync('db.json')\n        const db = low(adapter)\n\n        db.defaults({ proposals: [], count: 0 }).write()\n\n\n        return db.get('proposals')\n            .find({ orderId: orderId })\n            .value()\n    }\n}\n\n\nexport var person = {\n    firstName: \"John\",\n    lastName : \"Doe\",\n    id       : 5566,\n    fullName : function() {\n        return this.firstName + \" \" + this.lastName;\n    }\n};\n\n\n\n\n\n"]},"metadata":{},"sourceType":"module"}